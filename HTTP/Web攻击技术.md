## Web 的攻击技术

### HTTP不具备必要的安全功能

因为 Web 网站都会使用会话管理、加密处理等安全性方面的功能，而 HTTP 只是一个通用的单纯协议机制，所以不具备安全性方面的这些功能。


### Web 攻击模式

对 Web 应用的攻击模式分为: 
1. 主动攻击，是指攻击者通过直接访问 Web 应用，把攻击代码传入的攻击模式。主要代表性的攻击是 SQL 注入和 OS 命领注入攻击等。

2. 被动攻击，是指利用圈套策略执行攻击代码的攻击模式，攻击者不直接对目标 Web 应用访问发起攻击。主要代表性的攻击是跨站脚本攻击和跨 站点请求伪造。


### Web 应用的安全策略

1. 客户端验证，效验数据和脚本的安全性和有效性。

2. Web 应用端(服务器)的验证包含：输入值验证和输出值转义。


### **XSS**跨站脚本攻击

跨站脚本攻击(Cross-Site Scripting, XXS) 是指通过存在安全漏洞的 Web 网站注册用户的浏览器运行非法的 HTML 标签或 JavaScript 脚本进行被动攻击。简单点地说就是指攻击者在网站上注入恶意的客户端代码，通过恶意脚本对客户端网页进行篡改，从而在用户浏览网页时，对用户浏览器进行控制或者获取用户隐私数据的一种攻击方式。

**XXS** 可以分为反射型(非持久)、存储型(持久型)、基于DOM等。

跨站脚本可以造成的影响
- 利用虚假表单资取用户个人信息
- 窃取用户的 Cookie 值状态，和帮助攻击者发送恶意请求。
- 显示虚假文章和图片

**XXS**主要的一些防范手段:
1. HttpOnly 防止XSS攻击后劫取 Cookie 的攻击。
2. 输入检查，不相信用户的任何输入，对用户的输入进行检查和转义。
3. 输出检查，也对输出进行检查，防止被恶意利用。

### **CSRF**跨站点请求伪造

跨站点请求伪造 (Cross-Site Request Forgeries, CSRF)攻击是指攻击者通过设置好的陷阱，强制对已完成的认证的用户进行非预期的个人信息或设定信息等某些状态更新，属于被动攻击。简单点说是指劫持受信任用户向服务器发送非预期请求的攻击方式。可以在受害者不知情的情况下以受害着的名义伪造请求发送给服务器。


**CSRF**的防范手段:
1. 验证码，被认为是对抗 **CSRF** 最简洁最有效的防御方法。
2. **Referer Check** 通过 HTTP 请求头来检查请求的源是否合法。
3. **Token 验证**，通过随机产生的 token 值校验身份防止， CSRF 伪造用户身份发送请求。



### SQL注入攻击

SQL注入是指针对 Web 应用使用的数据库，通过运行非法的 SQL 而产生的攻击。这会导致个人信息和机密信息的泄域露。

### OS命令注入攻击

OS 命令注入攻击(OS COmmand Injection)是指通过 Web 应用，执行非法的操作系统命令达到攻击的目的。只要在能调用 Shell 函数的地方就有存在被攻击的风险。

### HTTP 首部注入攻击

HTTP 首部注入攻击(HTTP Header Injection) 是指攻击者通过在响应首部字段内插入换行，添加任意响应首部或主体的一种攻击。属于被动攻击模式。


### 邮件首部注入攻击

邮件首部注入(Mail Header Injection)是指 Web 应用中的邮件发送功能，攻击者通过向邮件首部 To 或 Subject 内任意添加非法内容发起的攻击。

### 目录遍历攻击

目录遍历(Directory Traversal)攻击是指对本无意公开的文件目录，通过非法截断期目录路径后，在成访问目的的一种攻击。也称为路径遍历(Path Traversal)攻击。

### 远程文件包含漏洞

远程文件包含漏洞(Remote File Inclusion) 是指当部分脚本内容需求从其他文件读入时，攻击者利用指定外部服务器的 URL 充当依赖文件，让脚本读取之后，就可运行任意脚本的一种攻击。

### 因设置或设计上的缺陷引发的安全漏洞

是指错误设置 Web 服务器，或设计上的一些 问题引起的安全漏洞。

### 强制浏览

强制浏览(Forced Browsing)安全漏洞是指，从安置在 Web 服务器的公开目录下的文件中，浏览那些原本非自愿公开的文件。

### 不正确的错误消息处理
是指 Web 应用的错误信息内包含对攻击者有用的信息被利用。

### 开放重定向
是指利用任意的 URL 重定向到某个具有恶意的 Web 网站，那么用户就会被诱导至那个网站。

### 因为会话管理疏忽引发的安全漏洞

- 会话劫持
是指攻击者通过某各手段拿到了用户的会话ID，并非法使用此会话 ID 伪装成用户，达到攻击的目的。

- 会话固定攻击
对以窃取目标会话 ID 为主动攻击手段的会 话劫持而言，会话固定攻击(Session Fixation)  攻击会强rmhjet户使用攻击者指定的会话 ID，属于被动攻击。


### 其它安全漏洞

- 密码破解
1) 穷举攻击
2) 字典攻击
3) 密码破解


- 点击劫持
- Dos 攻击 (Denial of Service attack) 是一种让运行中的服务呈停止状态的攻击。有时也叫做服务停止攻击或拒绝服务攻击。Dos攻击的对象不仅限于 Web 网站，还包括网络设备及服务器等。

- 后门程序

后门程序(Backdoor)是指开发设置的隐藏入口，可不按正常步骤使用受限功能。利用后门程序就能够使用原本受限制的功能。


### 参考引用

[* 浅说 XSS 和 CSRF](https://juejin.im/entry/5b4b56fd5188251b1a7b2ac1)