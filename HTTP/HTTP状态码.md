## HTTP 状态码(部分)

HTTP 状态码负责表示客户端 HTTP 请求的返回结果，表示服务器端处理的是否正常的结果。通过状态码，可以知道服务器端是正常处理了请求，还是出现了错误。


状态码 3 位数字组成。数字的第一位指定了响应类别。

状态码类别

| 状态码 | 类别                           | 原因短语                     |
|--------|--------------------------------|------------------------------|
| 1XX    | Informational(信息性状态码)  | 接收的请求正在处理。         |
| 2XX    | Success(成功状态码)            | 请求正常处理完毕。           |
| 3XX    | Redirection(重定向状态码)      | 需求进行附加操作以完成请求。 |
| 4XX    | Client Error(客户端错误状态码) | 服务器无法处理请求。         |
| 5XX    | Server Error(服务器错误状态码) | 服务器处理请求出错。         |

## 具体状态码分类

### 2XX 成功

- **200 OK** 表示从客户 端发来的请求在服务器端被正常处理了。

- **204 No Content** 表示服务器接收的请求已成功处理，但在返回的响应报文中不含实体的主体部分，不会包含什么更新。

- **206 Partial Content** 表示服务器成功处理GET请求，并返回范围请求的部分。响应 报文中包含由 **Content-Range** 指定范围的实体内容。

### 3XX 重定向

3XX 表示浏览器需要执行某些的特殊处理以正确处理请求。

- **301 Moved Permanently** 永久性重定向，该状态码表示请求的资源已重新被分配了新的 URI，以后使用资源现在所指的 URI 获取。会更新用户已保存书签。会根据请求头的 `Location` 参数，进行重定向。

- **302 Found** 临时性重定向，该状态码表示请求的资源已经被分配了新的 URI，这次用户能使用新的 URI 访问资源，但是下一次资源还有可能变更，不会去更用户已保存的书签。会根据请求头的 `Location` 参数，进行重定向。

- **303 See Other** 该状态码表示，由于请求对应的资源存在着另一个 URI，所以应该重新使用 GET 方法定向获取请求的资源。看着和 **302** 很像，但是其实 **303** 会把 POST 请求改成 GET，并删除请求报文内的主体，之后会自动再次发送，**302** 标准上是禁止将 POST 方法变成 GET 方法的，但实现上很多浏览器也会把请求改成 GET 发送。

- **304 Not Modified**(跟重定向没关系的状态码) 该状态码表示客户发送附带条件的请求时，服务器端允许请求访问资源，但未满足条件的情况。不满足响应条件时，响应返回时不包含任何响应主体部分。

附带条件的报文中包含:
- If-Match
- If-Modified-Since
- If-None-Match
- If-Range
- If-Unmodified-Since

- **307 Temporary Redirect** 临时重定向，该状态码与 **302** 含义相同，标准禁止 POST 变换成 GET。

#### 302、303和307的区别是什么？

这样相像的状态码是历史原因造成的，一开始在 HTTP/1.0 里面 **302** 定义了重定向标准，但是各浏览器实现不一致，所以在后来在 HTTP/1.1 中补充了 **303** 和 **307**,**303** 变成了不管请求方法是什么，生定向请求的方法都会变成 GET，而 **307** 则不允许浏览器将原本为 POST 或其它的请求重定向到 GET 请求上，把原来的 **302** 划分开了。也许将来会对 **302** 作出更改但现在就这样吧。

- **308 Permanent Redirect** **308**实际上是和**301**是一致的，唯一的区别在于，**308**状态码不允许浏览器将原本为 POST 的请求重定向到 GET 请求上。

### 4XX客户端错误
4XX的响应结果表明客户端是发生错误的原因所在。

- **400 Bad Request** 表示请求报文中存在语法错误，当错误发生时，需要修改请求的内容再发送请求，可能是请求文中参数错误。浏览器会像 **200 OK** 一样处理该状态码。

- **401 Unauthorized** 该状态码表示发送的请求需要有通过 HTTP 认证(BASIC认证、DIGEST认证)等认证信息。如果之前已经发送过验认证信息，则表示用户认证失败。当浏览器初次接收到 **401** 响应，则浏览器会弹出认证对话框。

- **403 Forbidden** 该状态码表示对请求资源的访问被服务器拒绝了。如果需要告诉拒绝原因，在报文响应主体部分里进行描述就能让用户看到了。

- **404 Not Found** 该状态码表明服务器上无法找到请求的资源。也可以被使用在服务器拒绝请求且不想说明理由时使用。

- **412 Precondition Failed**  该状态码表示先决条件失败，表示客户端错误对目标资源的访问请求被拒绝。这通常发生于采用除 `GET` 和 `HEAD` 之外的方法进行请求时，由首部字段 `If-Unmodified-Since` 或 `If-None-Match` 规定的先决条件不成立的情况下返回。


### 5XX服务器错误
5XX的响应结果表明服务器本身发生错误。

- **500 Internal Server Error** 该状态码表明服务端在执行请求时发生了错误。也有可能是 Web 应用存在的 bug 或某些临时的故障。

- **502 Bad Gateway** 该状态码表明服务器作为网关需要得到一个处理这个请求的响应，但是得到一个错误的响应。

- **503 Service Unavailable** 该状态码表明服务器暂时处于超负载或正在进行停机维护，现在无法处理请求。

有很多时候服务器的实际情况和 HTTP状态码标准还是有不一致的情况的，所以不少返回的状态码响应都是错误的，实际开发和在 Web程序应用的时候就要注意了。

### 参考引用

- [HTTP 中的 301、302、303、307、308 响应状态码](https://zhuanlan.zhihu.com/p/60669395)
- [http重定向301/302/303/307](https://blog.csdn.net/reliveIT/article/details/50776984)
- [HTTP 响应代码](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status)